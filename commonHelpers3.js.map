{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst form = document.querySelector('.feedback-form');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener('input', throttle(handleFormInput, 500));\nform.addEventListener('submit', handleFormSubmit);\n\nconst { email, message } = form.elements;\n\nlet feedbackFormObj = JSON.parse(localStorage.getItem(STORAGE_KEY)) ?? {};\n\nhandleFormRestoration();\n\nfunction handleFormInput(event) {\n  feedbackFormObj[event.target.name] = event.target.value.trim();\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(feedbackFormObj));\n}\n\nfunction handleFormRestoration() {\n  const savedFeedbackForm = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  if (savedFeedbackForm) {\n    email.value = savedFeedbackForm.email ?? '';\n    message.value = savedFeedbackForm.message ?? '';\n  }\n}\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n  localStorage.removeItem(STORAGE_KEY);\n  form.reset();\n}\n"],"names":["form","STORAGE_KEY","throttle","handleFormInput","handleFormSubmit","email","message","feedbackFormObj","handleFormRestoration","event","savedFeedbackForm"],"mappings":"wIACA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAc,sBAEpBD,EAAK,iBAAiB,QAASE,EAASC,EAAiB,GAAG,CAAC,EAC7DH,EAAK,iBAAiB,SAAUI,CAAgB,EAEhD,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYN,EAAK,SAEhC,IAAIO,EAAkB,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,GAAK,GAEvEO,IAEA,SAASL,EAAgBM,EAAO,CAC9BF,EAAgBE,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACxD,aAAa,QAAQR,EAAa,KAAK,UAAUM,CAAe,CAAC,CACnE,CAEA,SAASC,GAAwB,CAC/B,MAAME,EAAoB,KAAK,MAAM,aAAa,QAAQT,CAAW,CAAC,EAClES,IACFL,EAAM,MAAQK,EAAkB,OAAS,GACzCJ,EAAQ,MAAQI,EAAkB,SAAW,GAEjD,CAEA,SAASN,EAAiBK,EAAO,CAC/BA,EAAM,eAAc,EACpB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQR,CAAW,CAAC,CAAC,EACzD,aAAa,WAAWA,CAAW,EACnCD,EAAK,MAAK,CACZ"}